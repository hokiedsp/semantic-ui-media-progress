!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);!function(e,t,n,i){void 0!==(t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")())&&t.Math==Math||("undefined"!=typeof self&&self.Math==Math?self:Function("return this")());e.fn.mediaProgress=function(n){var i,a=arguments[0],o="string"==typeof a,r=[].slice.call(arguments,1);return this.each(function(){var d,s,u=e.isPlainObject(n)?e.extend(!0,{},e.fn.mediaProgress.settings,n):e.extend({},e.fn.mediaProgress.settings),l=u.metadata,m=u.namespace,c=u.selector,f=u.error,p="."+(m=u.namespace),v="module-"+m,g=".media-"+m,b=this,h=e(this),y=h.data(v),M=e(this).find(c.bar),k=e(this).find(c.cursor),P=null,j=!1,C=!1;const O=e=>{let t=P[0];return e<0?e=0:e>t.duration&&(e=t.duration),e/t.duration*b.clientWidth},T=t=>{return"string"==typeof t||t instanceof HTMLElement?e(t):"number"==typeof t?h.find(".marker").slice(t,t+1):t instanceof jQuery?t:(s.verbose("Invalid marker id given:",t),e())};s={initialize:function(){s.debug("Initializing media progress bar",u);let t={duration:250,autoSuccess:!1,showActivity:!1,precision:100};h.progress(e.isPlainObject(t)?e.extend(!0,t,n):t),h.addClass("disabled"),k.addClass("hide"),s.read.metadata(),s.read.settings(),s.bind.events(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of mediaProgress",s),y=s,h.data(v,s)},destroy:function(){s.verbose("Destroying previous mediaProgress for",h),h.progress("destroy"),s.detach(),h.removeData(v),y=void 0},attach:function(t){if(P&&s.detach(t),t){if("string"==typeof t||t instanceof HTMLMediaElement)t=e(t);else if(!(t instanceof jQuery))throw"Argument must be id string, DOM HTMLMediaElement, or jQuery object.";if(!(t=t.filter((e,t)=>t instanceof HTMLMediaElement).first()))throw"Argument must contain at least one DOM HTMLMediaElement.";P=t,s.bind.mediaEvents(),s.debug("Attached to",P[0]),P[0].currentSrc&&(s.debug("Media already loaded",P[0]),h.removeClass("disabled"),s.set.marker.time(0))}},detach:function(){P&&(s.debug("Detached from",P[0]),P.off(g),P=null)},add:{marker:function(t={}){s.debug("Adding a marker:",t);let n=e('<div class="marker" data-time=0><button>'+(t.iconHTML?t.iconHTML:u.defaultMarkerIconHTML)+"</button></div>");return h.append(n),t.id&&n.attr("id",t.id),t.class&&n.addClass(t.class),t.color&&n.addClass(t.color),t.position&&n.addClass(t.position),"top"==t.position||t.iconHTML||n.find("button>i").addClass("vertically flipped"),t.tooltip&&(n.attr("data-tooltip",t.tooltip),n.attr("data-variation","tiny"),n.hasClass("top")&&n.attr("data-position","bottom center")),t.time&&P&&isFinite(P[0].duration)&&s.set.marker.time(n,t.time),s.debug("Marker created:",n),n}},get:{media:function(){return s.$media[0]},marker:{time:e=>e?T(e).data("time"):h.find(".marker").data("time")}},set:{media:function(e){s.attach(e)},barWidth:function(e){h.progress("set barWidth",e)},marker:{time:(e,t)=>{let n;n=arguments.length>1?T(e):h.find(".marker");let i=P[0];n.css("left",O(t)+"px"),n.data("time",t<0?0:t>i.duration?i.duration:t)}}},read:{metadata:function(){var e={media:h.data(l.media)};e.media&&(s.debug("Attaching the media element specified by:",e.media),s.attach(e.media))},settings:function(){if(void 0!==u.media){s.debug("Attaching the media element specified by:",u.media);try{s.attach(u.media)}catch(e){u.media=null,s.error(e,u.media)}}}},bind:{events:function(){s.bind.mouseEvents()},touchEvents:function(){},keyboardEvents:function(){},inputEvents:function(){},mouseEvents:function(){s.verbose("Binding mouse events"),h.on("mousedown"+p,s.event.mousedown).on("mousedown"+p,".marker",s.event.marker.mousedown),M.on("mouseenter"+p,s.event.bar.mouseenter).on("mouseleave"+p,s.event.bar.mouseleave)},mediaEvents:()=>{s.verbose("Binding media events"),P.on("loadedmetadata"+g,s.event.media.loadedmetadata).on("loadeddata"+g,s.event.media.loadeddata).on("loadedmetadata"+g,s.event.media.loadedmetadata).on("emptied"+g,s.event.media.emptied).on("timeupdate"+g,s.event.media.timeupdate)}},event:{media:{loadedmetadata:()=>{s.debug("Attached media loaded metadata"),h.progress("set total",P[0].duration),h.progress("update progress",0),s.set.marker.time(0)},loadeddata:()=>{s.debug("Attached media loaded data",h),h.removeClass("disabled"),h.progress("update progress",P[0].currentTime)},emptied:()=>{s.debug("Attached media emptied data",h),h.addClass("disabled"),k.addClass("hide"),h.progress("update progress",0)},timeupdate:()=>{h.progress("update progress",P[0].currentTime)}},bar:{mouseenter:e=>{k.removeClass("hide")},mouseleave:e=>{k.addClass("hide")}},marker:{mousedown:t=>{d=e(t.target).closest(".marker")}},mousedown:n=>{if(0==n.originalEvent.button){let i=P[0];(j=!i.paused)&&i.pause(),k.addClass("grabbed"),C=M.css("transition-duration"),M.css("transition-duration","0s"),e(t).on("mousemove",s.event.mousemove).on("mouseup",s.event.mouseup),s.event.mousemove(n)}n.stopPropagation()},mousemove:e=>{let t=(e=>{let t=e/b.clientWidth;return t<0?t=0:t>1&&(t=1),(P[0].duration*t).toFixed(3)})(e.originalEvent.pageX-(e=>e.getBoundingClientRect().left)(b));h.progress("update progress",t),P[0].currentTime=t,d&&(d.attr("data-time",t),d.css("left",O(t)+"px"),u.onMarkerMove(t,d))},mouseup:n=>{e(t).off("mousemove",s.event.mousemove).off("mouseup",s.event.mouseup),k.removeClass("grabbed"),M.css("transition-duration",C),d&&(d=null),j&&P[0].play()}},setting:function(t,n){s.debug("Changing setting",t,n);let i=h.progress("setting",t,n);return void 0===i&&(e.isPlainObject(t)?e.extend(!0,u,t):void 0!==n?e.isPlainObject(u[t])?e.extend(!0,u[t],n):u[t]=n:i=u[t]),i},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(void 0===n)return s[t];s[t]=n}},debug:function(){!u.silent&&u.debug&&(s.debug=Function.prototype.bind.call(console.info,console,u.name+":"),s.debug.apply(console,arguments))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(s.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),s.verbose.apply(console,arguments))},error:function(){u.silent||(s.error=Function.prototype.bind.call(console.error,console,u.name+":"),s.error.apply(console,arguments))},invoke:function(t,n,a){var o,d,u,l=y;return n=n||r,a=b||a,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=o)l=l[a];else{if(void 0!==l[a])return d=l[a],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(d=l[i],!1):(s.error(f.method,t),!1);l=l[i]}})),e.isFunction(d)?u=d.apply(a,n):void 0!==d&&(u=d),e.isArray(i)?i.push(u):void 0!==i?i=[i,u]:void 0!==u&&(i=u),d}},o?(void 0===y&&s.initialize(),s.invoke(a)):(void 0!==y&&y.invoke("destroy"),s.initialize())}),void 0!==i?i:this},e.fn.mediaProgress.settings={name:"Media Progress",namespace:"mediaProgress",silent:!1,debug:!1,verbose:!1,defaultMarkerIconHTML:'<i class="fitted marker icon"></i>',onMarkerMove:function(e,t){},metadata:{media:"media"},selector:{bar:"> .bar",cursor:"> .bar > .cursor"}}}(jQuery,window,document)},function(e,t,n){}]);